{"version":3,"sources":["../../src/routes/office.js"],"names":["router","express","Router","post","req","res","body","office","party","id","params","console","log","queryStr","db","query","rows","status","json","data","error"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,IAAP,CAAY,eAAZ;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA6B,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBACDD,GAAG,CAACE,IADH,EACnBC,MADmB,aACnBA,MADmB,EACXC,KADW,aACXA,KADW;AAEnBC,YAAAA,EAFmB,GAEZL,GAAG,CAACM,MAFQ,CAEnBD,EAFmB;AAI3BE,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEMC,YAAAA,QANqB,2EAOfN,MAPe,iBAOFC,KAPE,iBAOUC,EAPV;AAAA;AAAA;AAAA,mBAWFK,aAAGC,KAAH,CAASF,QAAT,CAXE;;AAAA;AAAA;AAWjBG,YAAAA,IAXiB,SAWjBA,IAXiB;AAAA,6CAYlBX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAAA,MAAM,EAAE,GADkB;AAE1BE,cAAAA,IAAI,EAAEH,IAAI,CAAC,CAAD;AAFgB,aAArB,CAZkB;;AAAA;AAAA;AAAA;AAAA,6CAiBlBX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,cAAAA,MAAM,EAAE,GADkB;AAE1BG,cAAAA,KAAK;AAFqB,aAArB,CAjBkB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA7B;;AAAA;AAAA;AAAA;AAAA;eAwBepB,M","sourcesContent":["import '@babel/polyfill';\r\nimport express from 'express';\r\nimport { db } from '../models/dbconfig';\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post('/:id/register', async (req, res) => {\r\n  const { office, party } = req.body;\r\n  const { id } = req.params;\r\n\r\n  console.log('helo');\r\n\r\n  const queryStr = `INSERT INTO candidates(office, party, candidate)\r\n    VALUES('${office}', '${party}', '${id}') \r\n    RETURNING office, candidate`;\r\n\r\n  try {\r\n    const { rows } = await db.query(queryStr);\r\n    return res.status(201).json({\r\n      status: 201,\r\n      data: rows[0],\r\n    });\r\n  } catch (error) {\r\n    return res.status(500).json({\r\n      status: 500,\r\n      error,\r\n    });\r\n  }\r\n});\r\n\r\nexport default router;\r\n"],"file":"office.js"}
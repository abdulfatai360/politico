{"version":3,"sources":["../../src/models/testDb.js"],"names":["dotenv","config","connectionString","process","env","NODE_ENV","DATABASE_URL_TEST","DATABASE_URL","pool","Pool","partyTable","officeTable","usersTable"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,IAAMC,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkCF,OAAO,CAACC,GAAR,CAAYE,iBAA9C,GAAkEH,OAAO,CAACC,GAAR,CAAYG,YAAvG;AAEA,IAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAS;AAAEP,EAAAA,gBAAgB,EAAhBA;AAAF,CAAT,CAAb;;AAEA,IAAMQ,UAAU,uKAAhB;;AAOA,IAAMC,WAAW,yIAAjB;;AAMA,IAAMC,UAAU,2UAAhB","sourcesContent":["import '@babel/polyfill';\r\nimport { Pool } from 'pg';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst connectionString = process.env.NODE_ENV === 'test' ? process.env.DATABASE_URL_TEST : process.env.DATABASE_URL;\r\n\r\nconst pool = new Pool({ connectionString });\r\n\r\nconst partyTable = `CREATE TABLE IF NOT EXISTS party (\r\n  id SERIAL PRIMARY KEY,\r\n  name VARCHAR(255) UNIQUE NOT NULL,\r\n  hq_address VARCHAR NOT NULL,\r\n  logo_url VARCHAR NOT NULL\r\n)`;\r\n\r\nconst officeTable = `CREATE TABLE IF NOT EXISTS office (\r\n  id SERIAL PRIMARY KEY,\r\n  type VARCHAR(128) NOT NULL,\r\n  name VARCHAR(255) UNIQUE NOT NULL\r\n)`;\r\n\r\nconst usersTable = `CREATE TABLE IF NOT EXISTS users (\r\n  id SERIAL PRIMARY KEY,\r\n  first_name VARCHAR(255) NOT NULL,\r\n  last_name VARCHAR(255) NOT NULL,\r\n  other_name VARCHAR(255),\r\n  email VARCHAR(255) UNIQUE NOT NULL,\r\n  password VARCHAR NOT NULL,\r\n  phone_number VARCHAR(128) NOT NULL,\r\n  passport_url VARCHAR NOT NULL,\r\n  is_admin BOOLEAN\r\n)`;\r\n\r\nexport {\r\n  pool, partyTable, usersTable, officeTable,\r\n};\r\n"],"file":"testDb.js"}
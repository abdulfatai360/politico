{"version":3,"sources":["../../src/models/dbconfig.js"],"names":["dotenv","config","connectionString","process","env","NODE_ENV","DATABASE_URL_TEST","DATABASE_URL","pool","Pool","db","query","queryText","values","Promise","resolve","reject","then","res","catch","err"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,IAAMC,gBAAgB,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkCF,OAAO,CAACC,GAAR,CAAYE,iBAA9C,GAAkEH,OAAO,CAACC,GAAR,CAAYG,YAAvG;AAEA,IAAMC,IAAI,GAAG,IAAIC,QAAJ,CAAS;AAAEP,EAAAA,gBAAgB,EAAhBA;AAAF,CAAT,CAAb;;AAEA,IAAMQ,EAAE,GAAG;AACTC,EAAAA,KADS,iBACHC,SADG,EACQC,MADR,EACgB;AACvB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCR,MAAAA,IAAI,CAACG,KAAL,CAAWC,SAAX,EAAsBC,MAAtB,EACGI,IADH,CACQ,UAAAC,GAAG;AAAA,eAAIH,OAAO,CAACG,GAAD,CAAX;AAAA,OADX,EAEGC,KAFH,CAES,UAAAC,GAAG;AAAA,eAAIJ,MAAM,CAACI,GAAD,CAAV;AAAA,OAFZ;AAGD,KAJM,CAAP;AAKD;AAPQ,CAAX","sourcesContent":["import { Pool } from 'pg';\r\nimport dotenv from 'dotenv';\r\n\r\ndotenv.config();\r\n\r\nconst connectionString = process.env.NODE_ENV === 'test' ? process.env.DATABASE_URL_TEST : process.env.DATABASE_URL;\r\n\r\nconst pool = new Pool({ connectionString });\r\n\r\nconst db = {\r\n  query(queryText, values) {\r\n    return new Promise((resolve, reject) => {\r\n      pool.query(queryText, values)\r\n        .then(res => resolve(res))\r\n        .catch(err => reject(err));\r\n    });\r\n  },\r\n};\r\n\r\nexport { pool, db };\r\n"],"file":"dbconfig.js"}
{"version":3,"sources":["../../src/middleware/validateSignup.js"],"names":["validateSignup","req","res","next","schema","firstname","Joi","string","required","lastname","othername","email","minDomainAtoms","password","min","phoneNumber","passportUrl","uri","isAdmin","boolean","default","validate","body","error","status","send","details","message"],"mappings":";;;;;;;AAAA;;;;AAEA,SAASA,cAAT,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkCC,IAAlC,EAAwC;AACtC,MAAMC,MAAM,GAAG;AACbC,IAAAA,SAAS,EAAEC,aACRC,MADQ,GACCC,QADD,EADE;AAGbC,IAAAA,QAAQ,EAAEH,aACPC,MADO,GACEC,QADF,EAHG;AAKbE,IAAAA,SAAS,EAAEJ,aACRC,MADQ,EALE;AAObI,IAAAA,KAAK,EAAEL,aACJC,MADI,GACKC,QADL,GACgBG,KADhB,CACsB;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KADtB,CAPM;AASbC,IAAAA,QAAQ,EAAEP,aACPC,MADO,GACEO,GADF,CACM,CADN,EACSN,QADT,EATG;AAWbO,IAAAA,WAAW,EAAET,aACVC,MADU,GACDC,QADC,EAXA;AAabQ,IAAAA,WAAW,EAAEV,aACVC,MADU,GACDC,QADC,GACUS,GADV,EAbA;AAebC,IAAAA,OAAO,EAAEZ,aACNa,OADM,GACIC,OADJ,CACY,KADZ;AAfI,GAAf;;AADsC,sBAoBpBd,aAAIe,QAAJ,CAAapB,GAAG,CAACqB,IAAjB,EAAuBlB,MAAvB,CApBoB;AAAA,MAoB9BmB,KApB8B,iBAoB9BA,KApB8B;;AAqBtC,MAAIA,KAAJ,EAAW;AACT,WAAOrB,GAAG,CAACsB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BD,MAAAA,MAAM,EAAE,GADkB;AAE1BD,MAAAA,KAAK,EAAEA,KAAK,CAACG,OAAN,CAAc,CAAd,EAAiBC;AAFE,KAArB,CAAP;AAID;;AAED,SAAOxB,IAAI,EAAX;AACD;;eAEcH,c","sourcesContent":["import Joi from 'joi';\r\n\r\nfunction validateSignup(req, res, next) {\r\n  const schema = {\r\n    firstname: Joi\r\n      .string().required(),\r\n    lastname: Joi\r\n      .string().required(),\r\n    othername: Joi\r\n      .string(),\r\n    email: Joi\r\n      .string().required().email({ minDomainAtoms: 2 }),\r\n    password: Joi\r\n      .string().min(6).required(),\r\n    phoneNumber: Joi\r\n      .string().required(),\r\n    passportUrl: Joi\r\n      .string().required().uri(),\r\n    isAdmin: Joi\r\n      .boolean().default(false),\r\n  };\r\n\r\n  const { error } = Joi.validate(req.body, schema);\r\n  if (error) {\r\n    return res.status(400).send({\r\n      status: 400,\r\n      error: error.details[0].message,\r\n    });\r\n  }\r\n\r\n  return next();\r\n}\r\n\r\nexport default validateSignup;\r\n"],"file":"validateSignup.js"}